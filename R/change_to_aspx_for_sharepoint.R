## The following example demonstrates
## how a search and replace string task
## can be performed with R across several files

## Create two text files with content
filenames <- c( "index",
                "executive-summary",
                "about",
                "an-overview-of-population-of-concerns-in-the-americas",
                "exposure-to-protection-risks",
                "ensuring-access-to-rights",
                "protection-severity-deprivation-analysis",
                "household-vulnerability",
                "response-to-the-situation",
                "references")
for( f in  filenames ){
  # f <- "index"
  x <- readLines(paste0( getwd(),"/_book/",f,".html"))
  y <- gsub(pattern =  "\\.html", replace = ".aspx", x )
  #cat(y, file=f, sep="\n")

  z <- gsub(pattern =  "<meta charset=\"utf-8\" />",
            replace = "<meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />", y )

  writeLines(y, con = paste0( getwd(),"/_book/",f,".aspx"))
  cat (f)

}

